<!-- ÄÃ¢y lÃ  pháº§n ghi chÃº trong HTML: This is a comment in HTML -->
<!-- ÄÃ¢y lÃ  khai bÃ¡o DOCTYPE, giÃºp trÃ¬nh duyá»‡t biáº¿t Ä‘Ã¢y lÃ  tÃ i liá»‡u HTML5.
This is the DOCTYPE declaration, which helps the browser recognize that this is an HTML5 document 
-->
<!DOCTYPE html>

<!-- Tháº» <html> lÃ  tháº» gá»‘c bao bá»c toÃ n bá»™ ná»™i dung trang web: The <html> element is the root element that wraps all content of the web page..
lang="vi" chá»‰ Ä‘á»‹nh ngÃ´n ngá»¯ chÃ­nh cá»§a trang lÃ  tiáº¿ng Viá»‡t: lang="vi" attribute specifies that the page's main language is Vietnamese.
-->
<html lang="vi">

<!-- Tháº» <head> chá»©a cÃ¡c thÃ´ng tin khÃ´ng hiá»ƒn thá»‹ trá»±c tiáº¿p trÃªn trang nhÆ°ng ráº¥t quan trá»ng nhÆ° tiÃªu Ä‘á», mÃ£ hÃ³a kÃ½ tá»±, link CSS...
  The <head> element contains information that is not displayed directly on the web page but is essential,
  such as the title, character encoding, and CSS links
-->
<head>

  <!-- Khai bÃ¡o bá»™ mÃ£ hÃ³a kÃ½ tá»± lÃ  UTF-8 Ä‘á»ƒ trÃ¬nh duyá»‡t hiá»ƒn thá»‹ Ä‘Ãºng tiáº¿ng Viá»‡t vÃ  cÃ¡c ngÃ´n ngá»¯ khÃ¡c.
  Declares the character encoding as UTF-8 so that the browser displays Vietnamese and other languages correctly.
  -->
  <meta charset="UTF-8" />

  <!-- Thiáº¿t láº­p Ä‘á»ƒ trang web hiá»ƒn thá»‹ Ä‘Ãºng trÃªn cÃ¡c thiáº¿t bá»‹ di Ä‘á»™ng vÃ  mÃ¡y tÃ­nh báº£ng:
        Sets the viewport to ensure the website displays properly on mobile devices and tablets.
  -->
  <!-- <meta>: tháº» metadata â€” cung cáº¥p thÃ´ng tin cho trÃ¬nh duyá»‡t.: The metadata tag provides information to the browser
  -->
  <!-- name="viewport": chá»‰ Ä‘á»‹nh ráº±ng Ä‘Ã¢y lÃ  thiáº¿t láº­p khung nhÃ¬n (viewport), tá»©c lÃ  vÃ¹ng hiá»ƒn thá»‹ trang web.:
        Specifies that this is a viewport setting, which defines the visible area of the web page.
  -->
  <!-- content="...": lÃ  giÃ¡ trá»‹ thiáº¿t láº­p cho viewport.: This is the value that configures the viewport
  -->
  <!-- width=device-width: Chiá»u rá»™ng cá»§a trang web sáº½ báº±ng Ä‘Ãºng chiá»u rá»™ng mÃ n hÃ¬nh thiáº¿t bá»‹ (Ä‘iá»‡n thoáº¡i, mÃ¡y tÃ­nh báº£ngâ€¦):
        The width of the web page will exactly match the width of the device's screen (phone, tablet, etc.).
  -->
  <!-- initial-scale=1.0:Tá»· lá»‡ phÃ³ng ban Ä‘áº§u cá»§a trang lÃ  1:1, tá»©c lÃ  khÃ´ng phÃ³ng to hay thu nhá».:
        the initial scale of the page is 1:1, meaning no zoom in or zoom out.
  -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- Tháº» <title> Ä‘á»‹nh nghÄ©a tiÃªu Ä‘á» cá»§a trang web, hiá»ƒn thá»‹ trÃªn tab trÃ¬nh duyá»‡t.:
        The <title> tag defines the title of the web page, shown on the browser tab.
  -->
  <title>Trang chá»§</title>

  <!-- Tháº» <link> liÃªn káº¿t file CSS Ä‘á»ƒ Ã¡p dá»¥ng kiá»ƒu dÃ¡ng cho trang web. 
        The <link> tag links a CSS file to apply styles to the web page.
  -->
  <!-- <link> lÃ  tháº» dÃ¹ng Ä‘á»ƒ káº¿t ná»‘i tÃ i nguyÃªn ngoÃ i (external resource) vá»›i trang HTML.
        The <link> tag is used to connect external resources to the HTML page.
  -->
  <!-- rel="stylesheet" nghÄ©a lÃ  file Ä‘Æ°á»£c liÃªn káº¿t lÃ  má»™t báº£ng kiá»ƒu (stylesheet):
       rel="stylesheet" means the linked file is a stylesheet.
  -->
  <!-- href="style.css" lÃ  Ä‘Æ°á»ng dáº«n Ä‘áº¿n file CSS cáº§n liÃªn káº¿t.:
        href="style.css" specifies the path to the CSS file that should be linked.
  -->
  <link rel="stylesheet" href="style.css" />

<!-- Tháº» </head> Ä‘Ã³ng pháº§n Ä‘áº§u trang trong tÃ i liá»‡u HTML.: The </head> tag closes the head section in the HTML document. 
-->  
</head>

<!-- Tháº» <body> báº¯t Ä‘áº§u pháº§n thÃ¢n cá»§a trang web, chá»©a ná»™i dung hiá»ƒn thá»‹.:
    The <body> tag starts the body section of the web page, containing the visible content. --> 
<body>

  <!-- Tháº» <header> báº¯t Ä‘áº§u pháº§n Ä‘áº§u trang, chá»©a logo, menu hoáº·c tiÃªu Ä‘á».The <header> tag starts the header section, containing the logo, menu, or title. -->
  <header>

    <!-- Tháº» <nav class="menu"> báº¯t Ä‘áº§u pháº§n Ä‘iá»u hÆ°á»›ng vá»›i lá»›p CSS "menu".:
    The <nav class="menu"> tag starts the navigation section with the CSS class "menu".
    -->
    <nav class="menu">

      <!-- Tháº» <ul> báº¯t Ä‘áº§u má»™t danh sÃ¡ch khÃ´ng thá»© tá»±.:The <ul> tag starts an unordered list. -->
      <ul>

        <!-- Tháº» <li> chá»©a liÃªn káº¿t Ä‘áº¿n trang "index.html" vá»›i vÄƒn báº£n "Trang chá»§".
              The <li> tag contains a link to the "index.html" page with the text "Trang chá»§".
        <!-- href="index.html" lÃ  Ä‘Æ°á»ng dáº«n Ä‘áº¿n trang index.html (thÆ°á»ng lÃ  trang chá»§).
              href="index.html" is the path to the "index.html" page (usually the homepage).
        -->
        <li><a href="index.html">Trang chá»§</a></li>
        <li><a href="about.html">Giá»›i thiá»‡u</a></li>
        <li><a href="projects.html">Dá»± Ã¡n</a></li>
        <li><a href="contact.html">LiÃªn há»‡</a></li>
      </ul>

    <!-- Tháº» </nav> Ä‘Ã³ng pháº§n Ä‘iá»u hÆ°á»›ng trong trang web.: The </nav> tag closes the navigation section of the web page. -->  
    </nav>

  <!-- Tháº» </header> Ä‘Ã³ng pháº§n Ä‘áº§u trang cá»§a trang web.: The </header> tag closes the header section of the web page. -->
  </header>

  <!-- Tháº» <main> báº¯t Ä‘áº§u pháº§n ná»™i dung chÃ­nh cá»§a trang web.:- The <main> tag starts the main content section of the web page. -->
  <main>

    <!-- Tháº» <h1> Ä‘á»‹nh nghÄ©a tiÃªu Ä‘á» chÃ­nh cáº¥p 1 cá»§a trang.: The <h1> tag defines the main heading of the page. -->
    <h1>ChÃ o má»«ng Ä‘áº¿n vá»›i trang web cá»§a tÃ´i</h1>

    <!-- Tháº» <p> Ä‘á»‹nh nghÄ©a má»™t Ä‘oáº¡n vÄƒn báº£n.: The <p> tag defines a paragraph. -->
    <p>ÄÃ¢y lÃ  trang chá»§.</p>

  <!-- Tháº» </main> Ä‘Ã³ng pháº§n ná»™i dung chÃ­nh cá»§a trang web.: The </main> tag closes the main content section of the web page. -->
  </main>

<!-- ğŸ”» Báº£ng trá»™n 3 mÃ u vá»›i hiá»‡u á»©ng mÆ°á»£t + Ä‘á»•i ngÃ´n ngá»¯ -->
<div id="color-widget">
  <div style="position: relative; margin-bottom: 10px;">
    <h4 id="title" style="margin: 0;">ğŸ¨ Chá»n 3 mÃ u Ä‘á»ƒ trá»™n</h4>
    <button id="lang-toggle" class="lang-btn">ğŸŒ EN</button>
  </div>

  <div class="picker-row">
    <span id="labelA">MÃ u A:</span> <span id="colorA-label">ChÆ°a chá»n</span>
  </div>
  <div class="picker-row">
    <span id="labelB">MÃ u B:</span> <span id="colorB-label">ChÆ°a chá»n</span>
  </div>
  <div class="picker-row">
    <span id="labelC">MÃ u C:</span> <span id="colorC-label">ChÆ°a chá»n</span>
  </div>

  <div id="color-container"></div>

  <button id="mix-button" style="display:none;">ğŸ‘‰ Trá»™n 3 mÃ u nÃ y</button>
  <button id="reset-button">ğŸ” LÃ m láº¡i</button>

  <div id="mix-result"></div>
  <div id="mix-preview"></div>
</div>

<script>
  const colors = [
    { name: 'Red', hex: '#FF0000' },
    { name: 'Green', hex: '#00FF00' },
    { name: 'Blue', hex: '#0000FF' },
    { name: 'Yellow', hex: '#FFFF00' },
    { name: 'Cyan', hex: '#00FFFF' },
    { name: 'Magenta', hex: '#FF00FF' },
    { name: 'Orange', hex: '#FFA500' },
    { name: 'Purple', hex: '#800080' },
    { name: 'Brown', hex: '#A52A2A' },
    { name: 'Gray', hex: '#808080' },
    { name: 'Black', hex: '#000000' },
    { name: 'White', hex: '#FFFFFF' }
  ];

  let selectedA = null, selectedB = null, selectedC = null;
  let selectTarget = 'A';
  let currentLang = 'vi';

  const elements = {
    title: document.getElementById('title'),
    labelA: document.getElementById('labelA'),
    labelB: document.getElementById('labelB'),
    labelC: document.getElementById('labelC'),
    labelAvalue: document.getElementById('colorA-label'),
    labelBvalue: document.getElementById('colorB-label'),
    labelCvalue: document.getElementById('colorC-label'),
    result: document.getElementById('mix-result'),
    preview: document.getElementById('mix-preview'),
    mixButton: document.getElementById('mix-button'),
    resetButton: document.getElementById('reset-button'),
    langToggle: document.getElementById('lang-toggle'),
    container: document.getElementById('color-container')
  };

  const translations = {
    vi: {
      title: "ğŸ¨ Chá»n 3 mÃ u Ä‘á»ƒ trá»™n",
      labelA: "MÃ u A:",
      labelB: "MÃ u B:",
      labelC: "MÃ u C:",
      notSelected: "ChÆ°a chá»n",
      mix: "ğŸ‘‰ Trá»™n 3 mÃ u nÃ y",
      reset: "ğŸ” LÃ m láº¡i",
      result: (a, b, c, hex) => `ğŸ¨ Káº¿t quáº£ pha ${a}, ${b}, ${c}: ${hex}`,
      langBtn: "ğŸŒ EN"
    },
    en: {
      title: "ğŸ¨ Choose 3 colors to mix",
      labelA: "Color A:",
      labelB: "Color B:",
      labelC: "Color C:",
      notSelected: "Not selected",
      mix: "ğŸ‘‰ Mix these 3 colors",
      reset: "ğŸ” Reset",
      result: (a, b, c, hex) => `ğŸ¨ Result of mixing ${a}, ${b}, ${c}: ${hex}`,
      langBtn: "ğŸŒ VI"
    }
  };

  function updateLabels() {
    const t = translations[currentLang];

    elements.title.textContent = t.title;
    elements.labelA.textContent = t.labelA;
    elements.labelB.textContent = t.labelB;
    elements.labelC.textContent = t.labelC;
    elements.mixButton.textContent = t.mix;
    elements.resetButton.textContent = t.reset;
    elements.langToggle.textContent = t.langBtn;

    elements.labelAvalue.textContent = selectedA ? `${selectedA.name} (${selectedA.hex})` : t.notSelected;
    elements.labelBvalue.textContent = selectedB ? `${selectedB.name} (${selectedB.hex})` : t.notSelected;
    elements.labelCvalue.textContent = selectedC ? `${selectedC.name} (${selectedC.hex})` : t.notSelected;

    if (selectedA && selectedB && selectedC) {
      elements.mixButton.style.display = 'block';

      const mixed = blendThree(selectedA.hex, selectedB.hex, selectedC.hex);
      elements.result.textContent = t.result(selectedA.name, selectedB.name, selectedC.name, mixed);
    } else {
      elements.mixButton.style.display = 'none';
    }
  }

  function hexToRgb(hex) {
    hex = hex.replace('#', '');
    const bigint = parseInt(hex, 16);
    return {
      r: (bigint >> 16) & 255,
      g: (bigint >> 8) & 255,
      b: bigint & 255
    };
  }

  function rgbToHex(r, g, b) {
    return (
      '#' +
      [r, g, b]
        .map(x => {
          const hex = x.toString(16);
          return hex.length === 1 ? '0' + hex : hex;
        })
        .join('')
    );
  }

  function blendThree(c1, c2, c3) {
    const rgb1 = hexToRgb(c1);
    const rgb2 = hexToRgb(c2);
    const rgb3 = hexToRgb(c3);
    const r = Math.round((rgb1.r + rgb2.r + rgb3.r) / 3);
    const g = Math.round((rgb1.g + rgb2.g + rgb3.g) / 3);
    const b = Math.round((rgb1.b + rgb2.b + rgb3.b) / 3);
    return rgbToHex(r, g, b);
  }

  function resetAll() {
    selectedA = selectedB = selectedC = null;
    selectTarget = 'A';
    elements.preview.style.backgroundColor = '';
    elements.result.textContent = '';
    updateLabels();
  }

  elements.langToggle.addEventListener('click', () => {
    currentLang = currentLang === 'vi' ? 'en' : 'vi';
    updateLabels();
  });

  elements.resetButton.addEventListener('click', resetAll);

  elements.mixButton.addEventListener('click', () => {
    if (selectedA && selectedB && selectedC) {
      const mixed = blendThree(selectedA.hex, selectedB.hex, selectedC.hex);
      elements.result.textContent = translations[currentLang].result(
        selectedA.name, selectedB.name, selectedC.name, mixed
      );
      elements.preview.style.backgroundColor = mixed;
    }
  });

  // Khá»Ÿi táº¡o há»™p mÃ u
  colors.forEach(color => {
    const box = document.createElement('div');
    box.className = 'color-box';
    box.style.backgroundColor = color.hex;
    box.title = color.name;
    box.addEventListener('click', () => {
      if (selectTarget === 'A') {
        selectedA = color;
        selectTarget = 'B';
      } else if (selectTarget === 'B') {
        selectedB = color;
        selectTarget = 'C';
      } else if (selectTarget === 'C') {
        selectedC = color;
        selectTarget = 'A';
      }
      updateLabels();
    });
    elements.container.appendChild(box);
  });

  updateLabels(); // Láº§n Ä‘áº§u
</script>

<style>
  #color-widget {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #fff;
    border: 1px solid #ccc;
    border-radius: 12px;
    padding: 12px;
    width: 270px;
    box-shadow: 0 0 10px rgba(0,0,0,0.15);
    z-index: 9999;
    font-family: sans-serif;
    font-size: 14px;
  }

  .picker-row {
    margin-bottom: 6px;
  }

  #color-container {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 10px;
  }

  .color-box {
    width: 28px;
    height: 28px;
    border-radius: 4px;
    cursor: pointer;
    border: 1px solid #aaa;
  }

  #mix-button, #reset-button {
    width: 100%;
    padding: 6px;
    font-size: 14px;
    margin-top: 6px;
    background-color: #eee;
    border: 1px solid #aaa;
    border-radius: 6px;
    cursor: pointer;
  }

  #mix-result {
    font-size: 13px;
    margin-top: 8px;
    color: #444;
  }

  #mix-preview {
    width: 100%;
    height: 30px;
    margin-top: 5px;
    border-radius: 6px;
    border: 1px solid #888;
    transition: background-color 0.5s ease; /* âœ… Hiá»‡u á»©ng mÆ°á»£t khi Ä‘á»•i mÃ u */
  }

  .lang-btn {
    position: absolute;
    top: 0;
    right: 0;
    padding: 2px 6px;
    font-size: 12px;
    border: 1px solid #aaa;
    border-radius: 6px;
    background-color: #f5f5f5;
    cursor: pointer;

  }
  
</style> 
  
<!-- ğŸ“š Widget Tá»« Ä‘iá»ƒn gÃ³c trÃ¡i: Anhâ†”Viá»‡t, Ä‘á»‹nh nghÄ©a, IPA, audio, áº£nh minh há»a -->
<div id="dictionary-widget">
  <div style="position: relative; margin-bottom: 6px;">
    <h4 id="dict-title" style="margin: 0; display:inline-block;">ğŸ“š</h4>
    <button id="dict-lang-toggle" class="small-btn">ENâ†’VI</button>
  </div>
  <div style="display: flex; gap:4px;">
    <input type="text" id="dict-input" placeholder="Enter word..." />
    <button id="dict-search" class="small-btn">ğŸ”</button>
  </div>
  <div id="dict-definitions" style="margin-top:8px;"></div>
  <div id="dict-phonetic" style="font-style:italic; margin-top:4px;"></div>
  <div id="dict-audio" style="margin-top:4px;"></div>
  <div id="dict-image" style="margin-top:6px;"></div>
</div>

<style>
#dictionary-widget {
  position: fixed; bottom:20px; left:20px;
  background:#fff; border:1px solid #ccc; border-radius:10px;
  padding:8px; width:280px; box-shadow:0 0 8px rgba(0,0,0,0.1);
  font-family:sans-serif; font-size:14px; z-index:9999;
}
#dictionary-widget input {
  flex:1; padding:4px; font-size:14px;
  border:1px solid #aaa; border-radius:6px;
}
.small-btn {
  font-size:12px; padding:2px 6px;
  border:1px solid #aaa; border-radius:6px;
  background:#eee; cursor:pointer;
}
#dict-image img { width:100%; margin-top:6px; border-radius:6px; }
</style>

<script>
const PIXABAY_KEY = 'YOUR_PIXABAY_API_KEY_HERE'; // ThÃªm key Pixabay

let currentLang = 'en'; // 'en'â†’'vi' or 'vi'â†’'en'

const tData = {
  en:{placeholder:'Enter word...', toggle:'ENâ†’VI'},
  vi:{placeholder:'Nháº­p tá»«...', toggle:'VIâ†’EN'}
};

const el = {
  title: document.getElementById('dict-title'),
  input: document.getElementById('dict-input'),
  toggle: document.getElementById('dict-lang-toggle'),
  search: document.getElementById('dict-search'),
  defs: document.getElementById('dict-definitions'),
  phon: document.getElementById('dict-phonetic'),
  audio: document.getElementById('dict-audio'),
  image: document.getElementById('dict-image')
};

function updateUI(){
  el.input.placeholder = tData[currentLang].placeholder;
  el.toggle.textContent = tData[currentLang].toggle;
  el.defs.innerHTML = el.phon.textContent = el.audio.innerHTML = el.image.innerHTML = '';
}

el.toggle.onclick = ()=>{ currentLang = currentLang==='en'?'vi':'en'; updateUI(); el.input.focus(); };

async function lookupEn(word){
  try{
    const res = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`);
    const data = await res.json();
    if(Array.isArray(data)){
      const entry = data[0];
      const defs = entry.meanings.map(m=>m.definitions.map(d=>`<li><b>${m.partOfSpeech}</b>: ${d.definition}</li>`).join('')).join('');
      el.defs.innerHTML = `<ul style="padding-left:18px;">${defs}</ul>`;
      const phon = entry.phonetic || entry.phonetics.find(p=>p.text)?.text || '';
      el.phon.textContent = phon;
      const audioSrc = entry.phonetics.find(p=>p.audio)?.audio;
      if(audioSrc) el.audio.innerHTML = `<audio controls src="${audioSrc}" style="width:100%;"></audio>`;
      return entry.word;
    }
  }catch{}
  el.defs.textContent = currentLang==='en'?'Not found.':'KhÃ´ng tÃ¬m tháº¥y.';
  return '';
}

async function translate(text){
  const res = await fetch('https://libretranslate.com/translate',{
    method:'POST', headers:{'Content-Type':'application/json'},
    body: JSON.stringify({q:text,source:currentLang,target:currentLang==='en'?'vi':'en'})
  });
  const j = await res.json();
  el.defs.textContent = j.translatedText;
  return j.translatedText;
}

async function fetchImage(word){
  try{
    const u = `https://pixabay.com/api/?key=${PIXABAY_KEY}&q=${encodeURIComponent(word)}&image_type=photo&per_page=3`;
    const r = await fetch(u);
    const j = await r.json();
    if(j.hits?.length) return j.hits[0].webformatURL;
  }catch{}
  return '';
}

el.search.onclick = async ()=>{
  const w = el.input.value.trim();
  if(!w){ alert(currentLang==='en'?'Enter a word.':'Nháº­p tá»«.'); return; }
  el.defs.innerHTML = '...'; el.phon.textContent=''; el.audio.innerHTML=''; el.image.innerHTML='';
  if(currentLang==='en'){
    const word = await lookupEn(w);
    if(word){
      const img = await fetchImage(word);
      if(img) el.image.innerHTML = `<img src="${img}">`;
    }
  } else {
    const tr = await translate(w);
    const img = await fetchImage(tr.split(' ')[0]);
    if(img) el.image.innerHTML = `<img src="${img}">`;
  }
};

el.input.addEventListener('keypress',e=>e.key==='Enter'&&el.search.click());
updateUI();
</script>

  
</script>  
<!-- Tháº» </body> Ä‘Ã³ng pháº§n thÃ¢n cá»§a trang web.: The </body> tag closes the body section of the web page. -->
</body>

<!-- Tháº» </html> Ä‘Ã³ng toÃ n bá»™ tÃ i liá»‡u HTML.:The </html> tag closes the entire HTML document. -->    
</html>
