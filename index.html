<!-- Đây là phần ghi chú trong HTML: This is a comment in HTML -->
<!-- Đây là khai báo DOCTYPE, giúp trình duyệt biết đây là tài liệu HTML5.
This is the DOCTYPE declaration, which helps the browser recognize that this is an HTML5 document 
-->
<!DOCTYPE html>

<!-- Thẻ <html> là thẻ gốc bao bọc toàn bộ nội dung trang web: The <html> element is the root element that wraps all content of the web page..
lang="vi" chỉ định ngôn ngữ chính của trang là tiếng Việt: lang="vi" attribute specifies that the page's main language is Vietnamese.
-->
<html lang="vi">

<!-- Thẻ <head> chứa các thông tin không hiển thị trực tiếp trên trang nhưng rất quan trọng như tiêu đề, mã hóa ký tự, link CSS...
  The <head> element contains information that is not displayed directly on the web page but is essential,
  such as the title, character encoding, and CSS links
-->
<head>

  <!-- Khai báo bộ mã hóa ký tự là UTF-8 để trình duyệt hiển thị đúng tiếng Việt và các ngôn ngữ khác.
  Declares the character encoding as UTF-8 so that the browser displays Vietnamese and other languages correctly.
  -->
  <meta charset="UTF-8" />

  <!-- Thiết lập để trang web hiển thị đúng trên các thiết bị di động và máy tính bảng:
        Sets the viewport to ensure the website displays properly on mobile devices and tablets.
  -->
  <!-- <meta>: thẻ metadata — cung cấp thông tin cho trình duyệt.: The metadata tag provides information to the browser
  -->
  <!-- name="viewport": chỉ định rằng đây là thiết lập khung nhìn (viewport), tức là vùng hiển thị trang web.:
        Specifies that this is a viewport setting, which defines the visible area of the web page.
  -->
  <!-- content="...": là giá trị thiết lập cho viewport.: This is the value that configures the viewport
  -->
  <!-- width=device-width: Chiều rộng của trang web sẽ bằng đúng chiều rộng màn hình thiết bị (điện thoại, máy tính bảng…):
        The width of the web page will exactly match the width of the device's screen (phone, tablet, etc.).
  -->
  <!-- initial-scale=1.0:Tỷ lệ phóng ban đầu của trang là 1:1, tức là không phóng to hay thu nhỏ.:
        the initial scale of the page is 1:1, meaning no zoom in or zoom out.
  -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- Thẻ <title> định nghĩa tiêu đề của trang web, hiển thị trên tab trình duyệt.:
        The <title> tag defines the title of the web page, shown on the browser tab.
  -->
  <title>Trang chủ</title>

  <!-- Thẻ <link> liên kết file CSS để áp dụng kiểu dáng cho trang web. 
        The <link> tag links a CSS file to apply styles to the web page.
  -->
  <!-- <link> là thẻ dùng để kết nối tài nguyên ngoài (external resource) với trang HTML.
        The <link> tag is used to connect external resources to the HTML page.
  -->
  <!-- rel="stylesheet" nghĩa là file được liên kết là một bảng kiểu (stylesheet):
       rel="stylesheet" means the linked file is a stylesheet.
  -->
  <!-- href="style.css" là đường dẫn đến file CSS cần liên kết.:
        href="style.css" specifies the path to the CSS file that should be linked.
  -->
  <link rel="stylesheet" href="style.css" />

<!-- Thẻ </head> đóng phần đầu trang trong tài liệu HTML.: The </head> tag closes the head section in the HTML document. 
-->  
</head>

<!-- Thẻ <body> bắt đầu phần thân của trang web, chứa nội dung hiển thị.:
    The <body> tag starts the body section of the web page, containing the visible content. --> 
<body>

  <!-- Thẻ <header> bắt đầu phần đầu trang, chứa logo, menu hoặc tiêu đề.The <header> tag starts the header section, containing the logo, menu, or title. -->
  <header>

    <!-- Thẻ <nav class="menu"> bắt đầu phần điều hướng với lớp CSS "menu".:
    The <nav class="menu"> tag starts the navigation section with the CSS class "menu".
    -->
    <nav class="menu">

      <!-- Thẻ <ul> bắt đầu một danh sách không thứ tự.:The <ul> tag starts an unordered list. -->
      <ul>

        <!-- Thẻ <li> chứa liên kết đến trang "index.html" với văn bản "Trang chủ".
              The <li> tag contains a link to the "index.html" page with the text "Trang chủ".
        <!-- href="index.html" là đường dẫn đến trang index.html (thường là trang chủ).
              href="index.html" is the path to the "index.html" page (usually the homepage).
        -->
        <li><a href="index.html">Trang chủ</a></li>
        <li><a href="about.html">Giới thiệu</a></li>
        <li><a href="projects.html">Dự án</a></li>
        <li><a href="contact.html">Liên hệ</a></li>
      </ul>

    <!-- Thẻ </nav> đóng phần điều hướng trong trang web.: The </nav> tag closes the navigation section of the web page. -->  
    </nav>

  <!-- Thẻ </header> đóng phần đầu trang của trang web.: The </header> tag closes the header section of the web page. -->
  </header>

  <!-- Thẻ <main> bắt đầu phần nội dung chính của trang web.:- The <main> tag starts the main content section of the web page. -->
  <main>

    <!-- Thẻ <h1> định nghĩa tiêu đề chính cấp 1 của trang.: The <h1> tag defines the main heading of the page. -->
    <h1>Chào mừng đến với trang web của tôi</h1>

    <!-- Thẻ <p> định nghĩa một đoạn văn bản.: The <p> tag defines a paragraph. -->
    <p>Đây là trang chủ.</p>

  <!-- Thẻ </main> đóng phần nội dung chính của trang web.: The </main> tag closes the main content section of the web page. -->
  </main>

<!-- 🔻 Bảng trộn 3 màu với hiệu ứng mượt + đổi ngôn ngữ -->
<div id="color-widget">
  <div style="position: relative; margin-bottom: 10px;">
    <h4 id="title" style="margin: 0;">🎨 Chọn 3 màu để trộn</h4>
    <button id="lang-toggle" class="lang-btn">🌐 EN</button>
  </div>

  <div class="picker-row">
    <span id="labelA">Màu A:</span> <span id="colorA-label">Chưa chọn</span>
  </div>
  <div class="picker-row">
    <span id="labelB">Màu B:</span> <span id="colorB-label">Chưa chọn</span>
  </div>
  <div class="picker-row">
    <span id="labelC">Màu C:</span> <span id="colorC-label">Chưa chọn</span>
  </div>

  <div id="color-container"></div>

  <button id="mix-button" style="display:none;">👉 Trộn 3 màu này</button>
  <button id="reset-button">🔁 Làm lại</button>

  <div id="mix-result"></div>
  <div id="mix-preview"></div>
</div>

<script>
  const colors = [
    { name: 'Red', hex: '#FF0000' },
    { name: 'Green', hex: '#00FF00' },
    { name: 'Blue', hex: '#0000FF' },
    { name: 'Yellow', hex: '#FFFF00' },
    { name: 'Cyan', hex: '#00FFFF' },
    { name: 'Magenta', hex: '#FF00FF' },
    { name: 'Orange', hex: '#FFA500' },
    { name: 'Purple', hex: '#800080' },
    { name: 'Brown', hex: '#A52A2A' },
    { name: 'Gray', hex: '#808080' },
    { name: 'Black', hex: '#000000' },
    { name: 'White', hex: '#FFFFFF' }
  ];

  let selectedA = null, selectedB = null, selectedC = null;
  let selectTarget = 'A';
  let currentLang = 'vi';

  const elements = {
    title: document.getElementById('title'),
    labelA: document.getElementById('labelA'),
    labelB: document.getElementById('labelB'),
    labelC: document.getElementById('labelC'),
    labelAvalue: document.getElementById('colorA-label'),
    labelBvalue: document.getElementById('colorB-label'),
    labelCvalue: document.getElementById('colorC-label'),
    result: document.getElementById('mix-result'),
    preview: document.getElementById('mix-preview'),
    mixButton: document.getElementById('mix-button'),
    resetButton: document.getElementById('reset-button'),
    langToggle: document.getElementById('lang-toggle'),
    container: document.getElementById('color-container')
  };

  const translations = {
    vi: {
      title: "🎨 Chọn 3 màu để trộn",
      labelA: "Màu A:",
      labelB: "Màu B:",
      labelC: "Màu C:",
      notSelected: "Chưa chọn",
      mix: "👉 Trộn 3 màu này",
      reset: "🔁 Làm lại",
      result: (a, b, c, hex) => `🎨 Kết quả pha ${a}, ${b}, ${c}: ${hex}`,
      langBtn: "🌐 EN"
    },
    en: {
      title: "🎨 Choose 3 colors to mix",
      labelA: "Color A:",
      labelB: "Color B:",
      labelC: "Color C:",
      notSelected: "Not selected",
      mix: "👉 Mix these 3 colors",
      reset: "🔁 Reset",
      result: (a, b, c, hex) => `🎨 Result of mixing ${a}, ${b}, ${c}: ${hex}`,
      langBtn: "🌐 VI"
    }
  };

  function updateLabels() {
    const t = translations[currentLang];

    elements.title.textContent = t.title;
    elements.labelA.textContent = t.labelA;
    elements.labelB.textContent = t.labelB;
    elements.labelC.textContent = t.labelC;
    elements.mixButton.textContent = t.mix;
    elements.resetButton.textContent = t.reset;
    elements.langToggle.textContent = t.langBtn;

    elements.labelAvalue.textContent = selectedA ? `${selectedA.name} (${selectedA.hex})` : t.notSelected;
    elements.labelBvalue.textContent = selectedB ? `${selectedB.name} (${selectedB.hex})` : t.notSelected;
    elements.labelCvalue.textContent = selectedC ? `${selectedC.name} (${selectedC.hex})` : t.notSelected;

    if (selectedA && selectedB && selectedC) {
      elements.mixButton.style.display = 'block';

      const mixed = blendThree(selectedA.hex, selectedB.hex, selectedC.hex);
      elements.result.textContent = t.result(selectedA.name, selectedB.name, selectedC.name, mixed);
    } else {
      elements.mixButton.style.display = 'none';
    }
  }

  function hexToRgb(hex) {
    hex = hex.replace('#', '');
    const bigint = parseInt(hex, 16);
    return {
      r: (bigint >> 16) & 255,
      g: (bigint >> 8) & 255,
      b: bigint & 255
    };
  }

  function rgbToHex(r, g, b) {
    return (
      '#' +
      [r, g, b]
        .map(x => {
          const hex = x.toString(16);
          return hex.length === 1 ? '0' + hex : hex;
        })
        .join('')
    );
  }

  function blendThree(c1, c2, c3) {
    const rgb1 = hexToRgb(c1);
    const rgb2 = hexToRgb(c2);
    const rgb3 = hexToRgb(c3);
    const r = Math.round((rgb1.r + rgb2.r + rgb3.r) / 3);
    const g = Math.round((rgb1.g + rgb2.g + rgb3.g) / 3);
    const b = Math.round((rgb1.b + rgb2.b + rgb3.b) / 3);
    return rgbToHex(r, g, b);
  }

  function resetAll() {
    selectedA = selectedB = selectedC = null;
    selectTarget = 'A';
    elements.preview.style.backgroundColor = '';
    elements.result.textContent = '';
    updateLabels();
  }

  elements.langToggle.addEventListener('click', () => {
    currentLang = currentLang === 'vi' ? 'en' : 'vi';
    updateLabels();
  });

  elements.resetButton.addEventListener('click', resetAll);

  elements.mixButton.addEventListener('click', () => {
    if (selectedA && selectedB && selectedC) {
      const mixed = blendThree(selectedA.hex, selectedB.hex, selectedC.hex);
      elements.result.textContent = translations[currentLang].result(
        selectedA.name, selectedB.name, selectedC.name, mixed
      );
      elements.preview.style.backgroundColor = mixed;
    }
  });

  // Khởi tạo hộp màu
  colors.forEach(color => {
    const box = document.createElement('div');
    box.className = 'color-box';
    box.style.backgroundColor = color.hex;
    box.title = color.name;
    box.addEventListener('click', () => {
      if (selectTarget === 'A') {
        selectedA = color;
        selectTarget = 'B';
      } else if (selectTarget === 'B') {
        selectedB = color;
        selectTarget = 'C';
      } else if (selectTarget === 'C') {
        selectedC = color;
        selectTarget = 'A';
      }
      updateLabels();
    });
    elements.container.appendChild(box);
  });

  updateLabels(); // Lần đầu
</script>

<style>
  #color-widget {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #fff;
    border: 1px solid #ccc;
    border-radius: 12px;
    padding: 12px;
    width: 270px;
    box-shadow: 0 0 10px rgba(0,0,0,0.15);
    z-index: 9999;
    font-family: sans-serif;
    font-size: 14px;
  }

  .picker-row {
    margin-bottom: 6px;
  }

  #color-container {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 10px;
  }

  .color-box {
    width: 28px;
    height: 28px;
    border-radius: 4px;
    cursor: pointer;
    border: 1px solid #aaa;
  }

  #mix-button, #reset-button {
    width: 100%;
    padding: 6px;
    font-size: 14px;
    margin-top: 6px;
    background-color: #eee;
    border: 1px solid #aaa;
    border-radius: 6px;
    cursor: pointer;
  }

  #mix-result {
    font-size: 13px;
    margin-top: 8px;
    color: #444;
  }

  #mix-preview {
    width: 100%;
    height: 30px;
    margin-top: 5px;
    border-radius: 6px;
    border: 1px solid #888;
    transition: background-color 0.5s ease; /* ✅ Hiệu ứng mượt khi đổi màu */
  }

  .lang-btn {
    position: absolute;
    top: 0;
    right: 0;
    padding: 2px 6px;
    font-size: 12px;
    border: 1px solid #aaa;
    border-radius: 6px;
    background-color: #f5f5f5;
    cursor: pointer;

  }
  
</style> 
  
<!-- 📚 Widget Từ điển góc trái: Anh↔Việt, định nghĩa, IPA, audio, ảnh minh họa -->
<div id="dictionary-widget">
  <div style="position: relative; margin-bottom: 6px;">
    <h4 id="dict-title" style="margin: 0; display:inline-block;">📚</h4>
    <button id="dict-lang-toggle" class="small-btn">EN→VI</button>
  </div>
  <div style="display: flex; gap:4px;">
    <input type="text" id="dict-input" placeholder="Enter word..." />
    <button id="dict-search" class="small-btn">🔍</button>
  </div>
  <div id="dict-definitions" style="margin-top:8px;"></div>
  <div id="dict-phonetic" style="font-style:italic; margin-top:4px;"></div>
  <div id="dict-audio" style="margin-top:4px;"></div>
  <div id="dict-image" style="margin-top:6px;"></div>
</div>

<style>
#dictionary-widget {
  position: fixed; bottom:20px; left:20px;
  background:#fff; border:1px solid #ccc; border-radius:10px;
  padding:8px; width:280px; box-shadow:0 0 8px rgba(0,0,0,0.1);
  font-family:sans-serif; font-size:14px; z-index:9999;
}
#dictionary-widget input {
  flex:1; padding:4px; font-size:14px;
  border:1px solid #aaa; border-radius:6px;
}
.small-btn {
  font-size:12px; padding:2px 6px;
  border:1px solid #aaa; border-radius:6px;
  background:#eee; cursor:pointer;
}
#dict-image img { width:100%; margin-top:6px; border-radius:6px; }
</style>

<script>
const PIXABAY_KEY = 'YOUR_PIXABAY_API_KEY_HERE'; // Thêm key Pixabay

let currentLang = 'en'; // 'en'→'vi' or 'vi'→'en'

const tData = {
  en:{placeholder:'Enter word...', toggle:'EN→VI'},
  vi:{placeholder:'Nhập từ...', toggle:'VI→EN'}
};

const el = {
  title: document.getElementById('dict-title'),
  input: document.getElementById('dict-input'),
  toggle: document.getElementById('dict-lang-toggle'),
  search: document.getElementById('dict-search'),
  defs: document.getElementById('dict-definitions'),
  phon: document.getElementById('dict-phonetic'),
  audio: document.getElementById('dict-audio'),
  image: document.getElementById('dict-image')
};

function updateUI(){
  el.input.placeholder = tData[currentLang].placeholder;
  el.toggle.textContent = tData[currentLang].toggle;
  el.defs.innerHTML = el.phon.textContent = el.audio.innerHTML = el.image.innerHTML = '';
}

el.toggle.onclick = ()=>{ currentLang = currentLang==='en'?'vi':'en'; updateUI(); el.input.focus(); };

async function lookupEn(word){
  try{
    const res = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`);
    const data = await res.json();
    if(Array.isArray(data)){
      const entry = data[0];
      const defs = entry.meanings.map(m=>m.definitions.map(d=>`<li><b>${m.partOfSpeech}</b>: ${d.definition}</li>`).join('')).join('');
      el.defs.innerHTML = `<ul style="padding-left:18px;">${defs}</ul>`;
      const phon = entry.phonetic || entry.phonetics.find(p=>p.text)?.text || '';
      el.phon.textContent = phon;
      const audioSrc = entry.phonetics.find(p=>p.audio)?.audio;
      if(audioSrc) el.audio.innerHTML = `<audio controls src="${audioSrc}" style="width:100%;"></audio>`;
      return entry.word;
    }
  }catch{}
  el.defs.textContent = currentLang==='en'?'Not found.':'Không tìm thấy.';
  return '';
}

async function translate(text){
  const res = await fetch('https://libretranslate.com/translate',{
    method:'POST', headers:{'Content-Type':'application/json'},
    body: JSON.stringify({q:text,source:currentLang,target:currentLang==='en'?'vi':'en'})
  });
  const j = await res.json();
  el.defs.textContent = j.translatedText;
  return j.translatedText;
}

async function fetchImage(word){
  try{
    const u = `https://pixabay.com/api/?key=${PIXABAY_KEY}&q=${encodeURIComponent(word)}&image_type=photo&per_page=3`;
    const r = await fetch(u);
    const j = await r.json();
    if(j.hits?.length) return j.hits[0].webformatURL;
  }catch{}
  return '';
}

el.search.onclick = async ()=>{
  const w = el.input.value.trim();
  if(!w){ alert(currentLang==='en'?'Enter a word.':'Nhập từ.'); return; }
  el.defs.innerHTML = '...'; el.phon.textContent=''; el.audio.innerHTML=''; el.image.innerHTML='';
  if(currentLang==='en'){
    const word = await lookupEn(w);
    if(word){
      const img = await fetchImage(word);
      if(img) el.image.innerHTML = `<img src="${img}">`;
    }
  } else {
    const tr = await translate(w);
    const img = await fetchImage(tr.split(' ')[0]);
    if(img) el.image.innerHTML = `<img src="${img}">`;
  }
};

el.input.addEventListener('keypress',e=>e.key==='Enter'&&el.search.click());
updateUI();
</script>

  
</script>  
<!-- Thẻ </body> đóng phần thân của trang web.: The </body> tag closes the body section of the web page. -->
</body>

<!-- Thẻ </html> đóng toàn bộ tài liệu HTML.:The </html> tag closes the entire HTML document. -->    
</html>
